@import "../breakpoints";
@include breakpoint(mobile);
@import "basket-mixins";

@include basket-layout-mobile;

// main basket wrapper
// -----------------------------------------------------

.notification,
#basket-wrapper {
	margin-right: 8px;
	margin-left: 8px;
	.page-error {
		display: none;
	}
}

// mini basket summary (top)
// -----------------------------------------------------

#basket-summary-mini {
	@include basket-summary-amounts;
	margin-top: -12px;

	h2:first-child {
		float: none;
		margin: 0 0 12px;
		span.items {
			color: $contentLink;
			cursor: pointer;
			&:hover {
				text-decoration: underline;
			}
		}
	}
	p {
		font-size: 1.4em;
	}
	ul li {
		font-size: 1.4em;
	}

	.total-wrapper {
		@include basket-box-bordered-mobile;
		float: none;
		margin-right: 0;
		padding: 16px 8px 8px;
		h3.amount {
			font-family: "Tesco", Helvetica Neue, Arial, sans-serif;
			font-size: 2.2em;
			font-weight: normal;
			span.value {
				top: -3px;
				font-size: 24px;
				font-weight: bold;
			}
		}
		.amount,
		.delivery-costs,
		.clubcard-points,
		.delivery-options
		{
			display: block;
		}
		.delivery-costs {
			margin: 12px 0;
		}
		.clubcard-points .total {
			margin-top: 12px;
		}
		input[type=submit] {
			margin-top: 12px;
			margin-bottom: 0;
		}
		form {
			float: none;
		}
	}
}

// primary column
// -----------------------------------------------------
#virtual-page{
	#preorderPricing{
		.back{
			display: block;
			padding: 16px 8px;
			border-bottom: 1px solid $primaryBorderColor;
			border-top: 1px solid $primaryBorderColor;
			font-size: 1.4em;
			&:first-child {
				border-top: none;
			}
			&:before {
				font-family: 'Tesco Icons';
				content: 'g';
				padding-right: 8px;
			}
		}
		p{
			padding:0 16px 0 16px;
		}
	}
}
#basket-primary {
	width: auto;
	float: none;
}

#basket-primary .basket-item  {
	padding: 0 8px;

	// product information
	.quantity {
		margin-top: 16px;
		padding-top: 0;
	}
	
	// product options
	.available-product-options {
		margin: 0 0 8px;
		padding: 0 8px;
		width:100%;
		h3.section-heading {
			margin: 16px 0 8px;
		}
		input[type=submit] {
			margin-bottom: 8px;
		}

		label {
			padding-left:24px;
			&:after {
				
				width: 13px;
				height:13px;
				content: 'Question';
				text-indent: -999em;
				right:-10px;
			}
		}

		.key {
				width:75% !important; /* TODO: mobile is being overwritten by basket-all.scss -- needs architectural change*/
				display:inline-block;
				display: table-cell;
			}
	}
}

// secondary column
// -----------------------------------------------------

// ensure the secondary doesn't move (sticky should be enabled for desktop only)
#basket-secondary {
	position: static !important;
	top: auto !important;
	right: auto !important;
	width: auto !important;
}

#basket-summary {
	h2 {
		margin-right: 0;
		margin-left: 0;
	}
	.basket-summary-inner {
		@include basket-box-bordered-mobile;
	}

	// subtotal wrapper
	.subtotal-wrapper {
		padding-right: 8px;
		padding-left: 8px;
		margin-top: 0;
		border-top: none;
	}

	// promotional savings wrapper
	.savings-wrapper {
		padding-right: 8px;
		padding-left: 8px;
	}

	// basket total (with clubcard) wrapper
	.total-wrapper {
		padding-right: 8px;
		padding-left: 8px;
		ul.clubcard-points {
			border-bottom: none;
			li {
				margin-bottom: 4px;
				&.total {
					margin-top: 12px;
					margin-bottom: 0;
				}
			}
		}
		input[type=submit] {
			margin-top: 12px;
			margin-bottom: 8px;
		}
	}
}

#basket-redeem,
#basket-continue-shopping {
	padding-right: 8px;
	padding-left: 8px;
	a {
		margin: 8px 0;
	}
}
#basket-continue-shopping {
	margin-bottom: 16px;
}

//flowers
//-----------------------------------------------------
#basket-wrapper .personalised-message-indicative {
 margin-top: 16px;
 padding-top: 16px;
 border-top: 1px solid #f3f1ed;
 clear: none;
 padding-left: 0;
 width: auto;
}

/* personalised product basket message */
#basket-primary .basket-item {
    .personalised-basket-message {
        p {
            padding-left: 60px;
            &:before {
                position: absolute;
                top: 2px;
                left: 11px;
            }
        }
    }
}